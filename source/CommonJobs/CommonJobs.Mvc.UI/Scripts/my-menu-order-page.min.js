var __extends=this.__extends||function(n,t){function i(){this.constructor=n}i.prototype=t.prototype,n.prototype=new i},MyMenu;(function(n){$(document).ready(function(){var n=new t(window.ViewData);n.bind()});var t=function(n){function t(t){n.call(this),this.onAjaxCall=!1,this.orderDate=moment(),this.isOrdered=!1,this.isProcessButtonVisible=ko.observable(!1);var i=t.order;this.isOrdered=i.IsOrdered,this.orderDate=moment(i.Date),this.placeSummaries=_.sortBy(_.map(i.PlacesByKey,function(n,t){return{placeKey:t,placeName:n,optionSummaries:_.map(i.OptionsByKey,function(n,r){return{optionKey:r,optionName:n,food:i.FoodsByOption[r],quantity:i.QuantityByOptionByPlace[t]&&i.QuantityByOptionByPlace[t][r]||0}})}}),"placeKey"),this.detail=_.sortBy(_.map(i.DetailByUserName,function(n,r){return{userName:r,url:t.baseLink+r,employeeName:n.EmployeeName,placeKey:n.PlaceKey,placeName:n.PlaceKey&&i.PlacesByKey[n.PlaceKey]||" - ",optionKey:n.OptionKey,optionName:n.OptionKey&&i.OptionsByKey[n.OptionKey]||" - ",food:n.PlaceKey&&n.OptionKey&&i.FoodsByOption[n.OptionKey]||"No come aquí",comment:n.Comment||" - "}}),"employeeName")}return __extends(t,n),t.prototype.toggleProcessButton=function(){this.isProcessButtonVisible(!this.isProcessButtonVisible())},t.prototype.bind=function(){ko.applyBindings(this);var n=$("table.table-detail");n.dataTable({bPaginate:!1,sDom:"<'row-fluid'<'span6'T><'span6'f>r>t<'row-fluid'<'span6'i><'span6'p>>",bInfo:!1,oLanguage:{sEmptyTable:"No hay datos disponibles",sInfo:"Mostrando desde _START_ hasta _END_ de _TOTAL_ registros",sInfoEmpty:"Mostrando desde 0 hasta 0 de 0 registros",sInfoFiltered:"(filtrado de _MAX_ registros en total)",sInfoPostFix:"",sInfoThousands:",",sLengthMenu:"Mostrar _MENU_ registros",sLoadingRecords:"Cargando...",sProcessing:"Procesando...",sSearch:"Buscar:",sZeroRecords:"No se encontraron resultados",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": activar para Ordenar Ascendentemente",sSortDescending:": activar para Ordendar Descendentemente"}},oTableTools:{aButtons:[{sExtends:"print",sButtonText:"Imprimir"},{sExtends:"copy",sButtonText:"Copiar"},{sExtends:"pdf",sButtonText:"PDF"},{sExtends:"csv",sButtonText:"Excel"}]}})},t.prototype.refresh=function(){location.reload()},t}(Utilities.HasCallbacks);n.OrderPage=t})(MyMenu||(MyMenu={}))